@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --primary: #e11d48;
    --body-color: #384042;
    --dark: #1e2223;
    --secondary: whitesmoke;
  }

  :root[class~="dark"] {
    --primary: #ff5773;
    --body-color: #e0e2e3;
    --dark: #f1f2f3;
    --secondary: #2c3e50;
  }

  body {
    @apply bg-white dark:bg-[#1e2223];
    color: var(--body-color);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  ::selection {
    background-color: color-mix(in srgb, var(--primary) 50%, transparent);
    color: white;
  }
}

@layer components {
  .nav-link {
    @apply text-[color:var(--body-color)] no-underline hover:text-[color:var(--primary)] focus:text-[color:var(--primary)];
  }

  .nav-link.active {
    @apply text-[color:var(--primary)];
  }

  .highlight {
    @apply relative inline;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 10' preserveAspectRatio='none'%3E%3Cpath d='M0,5 C20,3 40,7 60,5 S80,3 100,5' fill='none' stroke='%23e11d48' stroke-width='8.5' stroke-opacity='0.2' stroke-linecap='round'/%3E%3C/svg%3E");
    background-size: 100% 100%;
    background-repeat: no-repeat;
    background-position: 0 100%;
    padding-bottom: 2px;
    z-index: -1;
  }

  /* Dark mode version */
  .dark .highlight {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 10' preserveAspectRatio='none'%3E%3Cpath d='M0,5 C20,3 40,7 60,5 S80,3 100,5' fill='none' stroke='%23ff5773' stroke-width='8.5' stroke-opacity='0.3' stroke-linecap='round'/%3E%3C/svg%3E");
  }
}

@layer utilities {
  .no-js .js-only {
    display: none !important;
  }

  .js .no-js-fallback {
    cursor: pointer;
  }

  .no-js #mobile-menu-button,
  .no-js #mobile-menu-close {
    display: none;
  }

  .no-js #mobile-menu {
    @apply static transform-none bg-transparent block h-auto;
  }

  .no-js #mobile-menu ul {
    @apply flex flex-col md:flex-row;
  }
}

@layer utilities {
  .dark {
    --primary: #f43f5e;
    --body-color: #e0e2e3;
    --dark: #f1f2f3;
    --secondary: #2c3e50;
  }

  .dark body {
    background-color: #1e2223;
  }

  .dark .nav-link {
    @apply text-[color:var(--body-color)] hover:text-[color:var(--primary)] focus:text-[color:var(--primary)];
  }

  .dark .nav-link.active {
    @apply text-[color:var(--primary)];
  }
}

/* Wiggle animation */
@keyframes wiggle {
  0% { transform: rotate(0deg); }
  25% { transform: rotate(-3deg); }
  50% { transform: rotate(3deg); }
  75% { transform: rotate(-2deg); }
  100% { transform: rotate(0deg); }
}

.animate-wiggle {
  animation: wiggle 1s ease-in-out;
}